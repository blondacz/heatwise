image:
  repository: ghcr.io/blondacz/heatwise
  tag: "" # empty -> inherit .Chart.AppVersion by default
  pullPolicy: IfNotPresent

imagePullSecrets: []

replicaCount: 1

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

service:
  type: ClusterIP
  port: 80

env:
  RELAY_HOST: "192.168.1.50"
  MAX_PRICE_PER_KWH: "6.0"
  MORNING_PREHEAT: "07:00"
  DUMMY_RUN: "true"
  CHECK_INTERVAL: "1 minute"
  DESIRED_TEMPERATURE: "55.0"

javaToolOptions: "-Dconfig.override_with_env_vars=true"

persistence:
  enabled: true
  mountPath: /data
  size: 1Gi
  storageClass: ""



monitoring:
  portName: http
  path: /metrics
  interval: 15s

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: heatwise.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

podDisruptionBudget:
  enabled: false  # Disabled because replicaCount is 1; enable when scaling up
  minAvailable: 1

podAnnotations: {}
nodeSelector: {}
affinity: {}
tolerations: []

podSecurityContext:
  runAsNonRoot: true
  fsGroup: 10001  # Match runAsGroup for proper file permissions
  fsGroupChangePolicy: Always

securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  runAsUser: 10001
  runAsGroup: 0
  capabilities:
    drop: ["ALL"]
