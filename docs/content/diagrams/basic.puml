@startuml
skinparam roundcorner 15
skinparam shadowing false
skinparam dpi 180

actor User
rectangle "Octopus Agile API" as Octopus
node "Heatwise Service (Pekko Streams)" as App {
  [Price Poller] --> [Decision Logic]
  [Decision Logic] --> [Relay Adapter]
  [Decision Logic] --> [Decision Log]
}
node "Shelly/Contactor" as Relay

User --> App : configure thresholds
Octopus --> [Price Poller] : HTTP JSON
[Relay Adapter] --> Relay : HTTP (LAN)
[Decision Log] --> "Append-only file" : CSV
@enduml